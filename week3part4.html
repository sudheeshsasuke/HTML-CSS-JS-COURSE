<!DOCTYPE HTML>
<html>

	<head>
		<title>Matching Face Game</title>
		<style>
			img{position: absolute;}
			body{background-color: black;}
			div
			{
				//margin-top: 30px;
				position: absolute;
				width: 500px;
				height: 500px;
				background-color: cyan;
				
			}
			#rightSide
			{
				left: 500px;
				border-left: 5px solid blue;
				background-color: orange;
				
			}
		</style>
		<script >
			var numberOfFaces = 5;
			var num = numberOfFaces;
	var theLeftSide =
    document.getElementById("leftSide");
	
	var theRightSide =
    document.getElementById("rightSide");

	var score = 0;
	
function generateFaces()
{

	while(num > 0)
	{
		var face = document.createElement("IMG");
		face.setAttribute("src", "http://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png");
		var t = Math.random() * 400;
		var top_position = Math.floor(t);
		var l = Math.random() * 400;
		var left_position = Math.floor(l);
		
		face.style.top = top_position + "px";
		face.style.left = left_position + "px";
		document.getElementById("leftSide").appendChild(face);
		
		num -= 1;
	}

	leftSideImages = document.getElementById("leftSide").cloneNode(true);
	
	
	
	leftSideImages.style.background = "orange";
	leftSideImages.removeChild(leftSideImages.lastChild);
	numberOfFaces += 5;
	document.getElementById("rightSide").appendChild(leftSideImages);
	
	document.getElementById("leftSide").lastChild.onclick=
    function nextLevel(event){

        event.stopPropagation();

        num= numberOfFaces;
		
		score += 1;
		
		delete_all_children();

		
        generateFaces();


};

//delete all children
            function delete_all_children() {
                var theNode = document.getElementById("leftSide"); 
                while (document.getElementById("leftSide").firstChild) 
                    document.getElementById("leftSide").removeChild(document.getElementById("leftSide").firstChild);
            }
        

document.body.onclick = function gameOver() {

    alert("Game Over!\n\n"+"Your score: "+score+"\n\n");

	

    document.body.onclick = null;

    document.getElementById("leftSide").lastChild.onclick = null;


}; 
	
}
		</script>
	</head>
	<body onload = "generateFaces()">
	
		<h1 style="color: orange; text-align: center;">Matching Game</h1>
		<h3 style="color: yellow; text-align: center;">Click on the extra smiling face on the left.</h3>
		
		<div id="leftSide"></div> 
		<div id="rightSide"></div> 
	
	</body>

</html>
